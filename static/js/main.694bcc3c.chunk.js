(window.webpackJsonpschedule=window.webpackJsonpschedule||[]).push([[0],{29:function(e,t,a){e.exports=a(46)},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(25),s=a.n(o),r=(a(34),a(35),a(36),a(6)),l=a(7),i=a(9),u=a(8),d=a(10),m=a(26),f=a(11),b=function(){var e=["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday"].map((function(e,t){var a="",n=(new Date).getDay()+1;7===n&&(n=0);var o=n+1;return 7===o&&(o=0),t===n&&(a=" blue-background white-text"),t===o&&(a=" blue-background-3 white-text"),5===t&&(a=" green-background white-text"),c.a.createElement("div",{key:t,className:"day flex-column justify align box-shadow black-text"+a},c.a.createElement("span",{className:"medium forte bold"},e))}));return c.a.createElement("div",{className:"days flex-column justify align"},e)},p=a(12),h=function(){return c.a.createElement("div",{className:"loader-container content-name"},c.a.createElement("div",{className:"loader"}))},x=a(18),g=a.n(x);a(37),a(40);g.a.initializeApp({apiKey:"AIzaSyC2dlvi3KAsN9tj88G0EvIxHWSn-AnEQvM",authDomain:"schedule-17b2e.firebaseapp.com",databaseURL:"https://schedule-17b2e.firebaseio.com",projectId:"schedule-17b2e",storageBucket:"",messagingSenderId:"770227791030",appId:"1:770227791030:web:b23035e32f0cac11e5b217"});var v=g.a,y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).changeContent=function(e,t,n,c){var o=Object(p.a)(a.state.contentStatus);o[e][t][n]=c.target.value,a.setState({contentStatus:o})},a.updateContent=function(e,t,n,c){if(c.preventDefault(),null===a.state.uid){var o=prompt("Enter your email"),s=prompt("Enter your password");v.auth().signInWithEmailAndPassword(o,s).then((function(c){console.log(c);var o=Object(p.a)(a.state.editStatus);o[e][t][n]=!1,console.log(a.state.contentStatus[e][t][n]),a.setState({editStatus:o}),a.updateDatabase(e,t,n)})).catch((function(e){console.log(e)}))}else{var r=Object(p.a)(a.state.editStatus);r[e][t][n]=!1,console.log(a.state.contentStatus[e][t][n]),a.setState({editStatus:r}),a.updateDatabase(e,t,n)}},a.updateDatabase=function(e,t,n){var c="";switch(t){case 0:c="name";break;case 1:c="instructor";break;case 2:c="type"}var o=Object(p.a)(a.props.contents[e]);o[n][c]=a.state.contentStatus[e][t][n],console.log(o[n][c],a.props.ids[e]),console.log(o,a.props.contents),a.props.csedRef.doc(a.props.ids[e]).update({content:o})},a.toggleStatus=function(e,t,n){var c="";switch(t){case 0:c="name";break;case 1:c="instructor";break;case 2:c="type"}console.log("toggle");var o=Object(p.a)(a.state.editStatus),s=Object(p.a)(a.state.contentStatus);o[e][t][n]=!0,s[e][t][n]=a.props.contents[e][n][c],a.setState({editStatus:o,contentStatus:s})},a.getAll=function(e,t,n,o){return n.map((function(n,s){return!0===a.state.editStatus[e][t][s]?c.a.createElement("form",{key:s,className:"input divide small berlin",onSubmit:function(n){return a.updateContent(e,t,s,n)}},c.a.createElement("input",{className:"divide small berlin",autoFocus:!0,value:a.state.contentStatus[e][t][s],onChange:function(n){return a.changeContent(e,t,s,n)}})):c.a.createElement("div",{key:s,className:"divide small berlin",onDoubleClick:function(){return a.toggleStatus(e,t,s)}},n[o])}))},a.state={editStatus:null,contentStatus:null,uid:null},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){for(var e=this,t=[],a=[],n=0;n<6;n++){t.push([]),a.push([]);for(var c=0;c<3;c++){t[n].push([]),a[n].push([]);for(var o=0;o<6;o++)t[n][c].push(!1),a[n][c].push("")}}this.setState({editStatus:t,contentStatus:a}),v.auth().onAuthStateChanged((function(t){e.setState({uid:t.uid})}))}},{key:"render",value:function(){var e=this,t=this.props.contents?this.props.contents.map((function(t,a){var n="",o=(new Date).getDay()+1;7===o&&(o=0);var s=o+1;return 7===s&&(s=0),a===o&&(n=" blue-background-2 white-text"),a===s&&(n=" blue-background-4 white-text"),5===a&&(n=" green-background-2 white-text"),c.a.createElement("div",{key:a,className:"flex-row justify align"},c.a.createElement("div",{className:"content-name flex-column justify align box-shadow black-text"+n},e.getAll(a,0,t,"name")),c.a.createElement("div",{className:"content-instructor flex-column justify align box-shadow black-text"+n},e.getAll(a,1,t,"instructor")),c.a.createElement("div",{className:"content-type flex-column justify align box-shadow black-text"+n},e.getAll(a,2,t,"type")))})):new Array(6).fill(0).map((function(e,t){return c.a.createElement("div",{key:t,className:"flex-row justify align"},c.a.createElement("div",{className:"content-name flex-column justify align box-shadow black-text"},c.a.createElement(h,null)),c.a.createElement("div",{className:"content-instructor flex-column justify align box-shadow black-text"},c.a.createElement(h,null)),c.a.createElement("div",{className:"content-type flex-column justify align box-shadow black-text"},c.a.createElement(h,null)))}));return c.a.createElement("div",{className:"contents flex-column justify align"},t)}}]),t}(n.Component),w=function(){var e=["8:30 ~ 10:10","10:20 ~ 12:00","12:10 ~ 1:50","2:00 ~ 3:40","3:50 ~ 5:30","5:40 ~ 7:20"].map((function(e,t){return c.a.createElement("div",{key:t,className:"divide small berlin"},e)})),t=e.map((function(t,a){var n="",o=(new Date).getDay()+1;7===o&&(o=0);var s=o+1;return 7===s&&(s=0),a===o&&(n=" blue-background-2 white-text"),a===s&&(n=" blue-background-4 white-text"),5===a&&(n=" green-background-2 white-text"),c.a.createElement("div",{key:a,className:"time flex-column justify align box-shadow black-text"+n},e)}));return c.a.createElement("div",{className:"contents flex-column justify align"},t)},E=function(e){var t=e.title,a=e.className;return c.a.createElement("div",{className:"flex-row justify align banner box-shadow white-text small berlin "+a},t)},j=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={day:(new Date).getDay()},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"flex-column justify align"},c.a.createElement("div",{className:"flex-row justify align"},c.a.createElement(E,{title:"Day",className:"day orange-background"}),c.a.createElement(E,{title:"Time",className:"time orange-background-2"}),c.a.createElement(E,{title:"Subject",className:"content-name orange-background-2"}),c.a.createElement(E,{title:"Instructor",className:"content-instructor orange-background-2"}),c.a.createElement(E,{title:"Type",className:"content-type orange-background-2"})),c.a.createElement("div",{className:"table flex-row justify align"},c.a.createElement(b,null),c.a.createElement(w,null),c.a.createElement(y,{contents:this.props.data,ids:this.props.ids,csedRef:this.props.csedRef})))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).getUniqueID=function(){var e=(new Date).getTime();return"undefined"!==typeof performance&&"function"===typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?a:3&a|8).toString(16)}))},a.state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=v.firestore().collection("CSED21");t.orderBy("day","asc").onSnapshot((function(a){var n=[],c=[];a.forEach((function(e){n[e.data().day]=e.data().content,c[e.data().day]=e.id})),e.setState({data:n,ids:c,csedRef:t})}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"home flex-column justify align"},c.a.createElement(j,{data:this.state.data,ids:this.state.ids,csedRef:this.state.csedRef}))}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(m.a,null,c.a.createElement(f.a,{exact:!0,path:"/Schedule/",component:k})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[29,1,2]]]);
//# sourceMappingURL=main.694bcc3c.chunk.js.map